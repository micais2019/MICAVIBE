function WebSocketClient(){this.reconnect_interval=1500}function startWebsocket(e){var t=new WebSocketClient;t.open(window.WS_URL),t.onopen=function(e){console.log("socket connected")},t.onclose=function(){console.log("socket closed")},t.onerror=t.onclose,t.onmessage=function(t){if(t instanceof Blob){var n=new FileReader;n.onload=function(){var t=JSON.parse(n.result);e?e(t):(window.Socket.emit("data.*",t),t.key?window.Socket.emit("data."+t.key,{key:t.key,value:t.value,created_at:t.created_at,mode:t.mode?t.mode:"live"}):window.Socket.emit("data",t))},n.readAsText(t)}else if("string"==typeof t){var r=JSON.parse(t);e?e(r):(window.Socket.emit("data.*",r),r.key?window.Socket.emit("data."+r.key,{key:r.key,value:r.value,created_at:r.created_at,mode:r.mode?r.mode:"live"}):window.Socket.emit("data",{message:r}))}}}function openNav(){$("nav").addClass("open")}function closeNav(){$("nav").removeClass("open")}function toggleNav(){$("nav").is(".open")?closeNav():openNav()}function formattedDate(e){var t=new Date;return t.setTime(1e3*parseInt(e)),dateFns.format(t,"MM.DD.YYYY HH:mm:ss")}function createProcessingSketch(e,t){return function(n){return new p5(function(r){var o=this,a=function(){o.width=$(n).width(),o.height=$(n).height()};a(),t(o,r),r.windowResized=_.debounce(function(){a(),r.resizeCanvas(o.width,o.height)},300),setTimeout(function(){(Array.isArray(e)?e:[e]).forEach(function(e){window.Socket.on("data."+e,function(e){r.onData&&r.onData(e)})})},75)},n)}}function getBaseLog(e,t){return Math.log(t)/Math.log(e)}!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dateFns=t():e.dateFns=t()}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports={addDays:n(1),addHours:n(4),addISOYears:n(5),addMilliseconds:n(13),addMinutes:n(14),addMonths:n(15),addQuarters:n(17),addSeconds:n(18),addWeeks:n(19),addYears:n(20),closestIndexTo:n(21),closestTo:n(22),compareAsc:n(23),compareDesc:n(24),differenceInCalendarDays:n(11),differenceInCalendarISOWeeks:n(25),differenceInCalendarISOYears:n(26),differenceInCalendarMonths:n(27),differenceInCalendarQuarters:n(28),differenceInCalendarWeeks:n(30),differenceInCalendarYears:n(31),differenceInDays:n(32),differenceInHours:n(33),differenceInISOYears:n(35),differenceInMilliseconds:n(34),differenceInMinutes:n(37),differenceInMonths:n(38),differenceInQuarters:n(39),differenceInSeconds:n(40),differenceInWeeks:n(41),differenceInYears:n(42),distanceInWords:n(43),distanceInWordsToNow:n(48),eachDay:n(49),endOfDay:n(50),endOfHour:n(51),endOfISOWeek:n(52),endOfISOYear:n(54),endOfMinute:n(55),endOfMonth:n(56),endOfQuarter:n(57),endOfSecond:n(58),endOfToday:n(59),endOfTomorrow:n(60),endOfWeek:n(53),endOfYear:n(61),endOfYesterday:n(62),format:n(63),getDate:n(67),getDay:n(68),getDayOfYear:n(64),getDaysInMonth:n(16),getDaysInYear:n(69),getHours:n(71),getISODay:n(72),getISOWeek:n(66),getISOWeeksInYear:n(73),getISOYear:n(6),getMilliseconds:n(74),getMinutes:n(75),getMonth:n(76),getQuarter:n(29),getSeconds:n(77),getYear:n(78),isAfter:n(79),isBefore:n(80),isDate:n(3),isEqual:n(81),isFirstDayOfMonth:n(82),isFriday:n(83),isFuture:n(84),isLastDayOfMonth:n(85),isLeapYear:n(70),isMonday:n(86),isPast:n(87),isSameDay:n(88),isSameHour:n(89),isSameISOWeek:n(91),isSameISOYear:n(93),isSameMinute:n(94),isSameMonth:n(96),isSameQuarter:n(97),isSameSecond:n(99),isSameWeek:n(92),isSameYear:n(101),isSaturday:n(102),isSunday:n(103),isThisHour:n(104),isThisISOWeek:n(105),isThisISOYear:n(106),isThisMinute:n(107),isThisMonth:n(108),isThisQuarter:n(109),isThisSecond:n(110),isThisWeek:n(111),isThisYear:n(112),isThursday:n(113),isToday:n(114),isTomorrow:n(115),isTuesday:n(116),isValid:n(117),isWednesday:n(118),isWeekend:n(119),isWithinRange:n(120),isYesterday:n(121),lastDayOfISOWeek:n(122),lastDayOfISOYear:n(124),lastDayOfMonth:n(125),lastDayOfQuarter:n(126),lastDayOfWeek:n(123),lastDayOfYear:n(127),max:n(128),min:n(129),parse:n(2),setDate:n(130),setDay:n(131),setDayOfYear:n(132),setHours:n(133),setISODay:n(134),setISOWeek:n(135),setISOYear:n(9),setMilliseconds:n(136),setMinutes:n(137),setMonth:n(138),setQuarter:n(139),setSeconds:n(140),setYear:n(141),startOfDay:n(12),startOfHour:n(90),startOfISOWeek:n(7),startOfISOYear:n(10),startOfMinute:n(95),startOfMonth:n(142),startOfQuarter:n(98),startOfSecond:n(100),startOfToday:n(143),startOfTomorrow:n(144),startOfWeek:n(8),startOfYear:n(65),startOfYesterday:n(145),subDays:n(146),subHours:n(147),subISOYears:n(36),subMilliseconds:n(148),subMinutes:n(149),subMonths:n(150),subQuarters:n(151),subSeconds:n(152),subWeeks:n(153),subYears:n(154)}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setDate(n.getDate()+t),n}},function(e,t,n){var r=n(3),o=36e5,a=6e4,i=/[T ]/,u=/:/,s=/^(\d{4})-?/,c=/^([+-]\d{4,6})-/,f=/^-(\d{2})$/,l=/^-?(\d{3})$/,v=/^-?(\d{2})-?(\d{2})$/,d=/^-?W(\d{2})$/,p=/^-?W(\d{2})-?(\d{1})$/,h=/^(\d{2}([.,]\d*)?)$/,g=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,m=/([Z+-].*)$/,D=/^(Z)$/,w=/^([+-])(\d{2})$/,M=/^([+-])(\d{2}):?(\d{2})$/;function y(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=7*t+n+1-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+o),r}e.exports=function(e){if(r(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var t=function(e){var t,n={},r=e.split(i);if(u.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var o=m.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e),n=function(e){var t,n,r,o,a,i;if(!(n=s.exec(e)||c.exec(e)))return null;var u=n[1];if(t=parseInt(u,10),0===(e=e.slice(u.length)).length)return(o=new Date(0)).setUTCFullYear(t),o;if(r=f.exec(e))return o=new Date(0),a=parseInt(r[1],10)-1,o.setUTCFullYear(t,a),o;if(r=l.exec(e)){o=new Date(0);var h=parseInt(r[1],10);return o.setUTCFullYear(t,0,h),o}if(r=v.exec(e)){o=new Date(0),a=parseInt(r[1],10)-1;var g=parseInt(r[2],10);return o.setUTCFullYear(t,a,g),o}if(r=d.exec(e))return i=parseInt(r[1],10)-1,y(t,i);if(r=p.exec(e)){i=parseInt(r[1],10)-1;var x=parseInt(r[2],10)-1;return y(t,i,x)}return null}(t.date);if(n){var S,T=n.getTime(),O=0;return t.time&&(O=function(e){var t,n,r;if(t=h.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*o;if(t=g.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*o+r*a;if(t=x.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return n%24*o+r*a+1e3*i}return null}(t.time)),t.timezone?(Y=t.timezone,S=(k=D.exec(Y))?0:(k=w.exec(Y))?(b=60*parseInt(k[2],10),"+"===k[1]?-b:b):(k=M.exec(Y))?(b=60*parseInt(k[2],10)+parseInt(k[3],10),"+"===k[1]?-b:b):0):(S=new Date(T+O).getTimezoneOffset(),S=new Date(T+O+S*a).getTimezoneOffset()),new Date(T+O+S*a)}var Y,k,b;return new Date(e)}},function(e,t){e.exports=function(e){return e instanceof Date}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setHours(n.getHours()+t),n}},function(e,t,n){var r=n(6),o=n(9);e.exports=function(e,t){return o(e,r(e)+t)}},function(e,t,n){var r=n(2),o=n(7);e.exports=function(e){var t=r(e),n=t.getFullYear(),a=o(new Date(n+1,0,4)),i=o(new Date(n,0,4));return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}},function(e,t,n){var r=n(8);e.exports=function(e){return r(e,{weekStartsOn:1})}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=t&&t.weekStartsOn||0,o=r(e),a=o.getDay(),i=(a<n?7:0)+a-n;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}},function(e,t,n){var r=n(2),o=n(10),a=n(11);e.exports=function(e,t){var n=r(e),i=a(n,o(n));return(n=o(new Date(t,0,4))).setDate(n.getDate()+i),n}},function(e,t,n){var r=n(6),o=n(7);e.exports=function(e){var t=r(e);return o(new Date(t,0,4))}},function(e,t,n){var r=n(12),o=6e4,a=864e5;e.exports=function(e,t){var n=r(e),i=r(t),u=n.getTime()-n.getTimezoneOffset()*o,s=i.getTime()-i.getTimezoneOffset()*o;return Math.round((u-s)/a)}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return t.setHours(0,0,0,0),t}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setMilliseconds(n.getMilliseconds()+t),n}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setMinutes(n.getMinutes()+t),n}},function(e,t,n){var r=n(2),o=n(16);e.exports=function(e,t){var n=r(e),a=n.getMonth()+t,i=o(new Date(n.getFullYear(),a,1));return n.setMonth(a,Math.min(i,n.getDate())),n}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e),n=t.getFullYear(),o=t.getMonth();return new Date(n,o+1,0).getDate()}},function(e,t,n){var r=n(15);e.exports=function(e,t){return r(e,3*t)}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setSeconds(n.getSeconds()+t),n}},function(e,t,n){var r=n(1);e.exports=function(e,t){return r(e,7*t)}},function(e,t,n){var r=n(15);e.exports=function(e,t){return r(e,12*t)}},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,o,a=r(e).getTime();return t.forEach(function(e,t){var i=r(e),u=Math.abs(a-i.getTime());(void 0===n||u<o)&&(n=t,o=u)}),n}},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,o,a=r(e).getTime();return t.forEach(function(e){var t=r(e),i=Math.abs(a-t.getTime());(void 0===n||i<o)&&(n=t,o=i)}),n}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n<o?-1:n>o?1:0}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n>o?-1:n<o?1:0}},function(e,t,n){var r=n(7),o=6e4,a=6048e5;e.exports=function(e,t){var n=r(e),i=r(t),u=n.getTime()-n.getTimezoneOffset()*o,s=i.getTime()-i.getTimezoneOffset()*o;return Math.round((u-s)/a)}},function(e,t,n){var r=n(6);e.exports=function(e,t){return r(e)-r(t)}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e),o=r(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},function(e,t,n){var r=n(29),o=n(2);e.exports=function(e,t){var n=o(e),a=o(t);return 4*(n.getFullYear()-a.getFullYear())+(r(n)-r(a))}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return Math.floor(t.getMonth()/3)+1}},function(e,t,n){var r=n(8),o=6e4,a=6048e5;e.exports=function(e,t,n){var i=r(e,n),u=r(t,n),s=i.getTime()-i.getTimezoneOffset()*o,c=u.getTime()-u.getTimezoneOffset()*o;return Math.round((s-c)/a)}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e),o=r(t);return n.getFullYear()-o.getFullYear()}},function(e,t,n){var r=n(2),o=n(11),a=n(23);e.exports=function(e,t){var n=r(e),i=r(t),u=a(n,i),s=Math.abs(o(n,i));return n.setDate(n.getDate()-u*s),u*(s-(a(n,i)===-u))}},function(e,t,n){var r=n(34),o=36e5;e.exports=function(e,t){var n=r(e,t)/o;return n>0?Math.floor(n):Math.ceil(n)}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()-o.getTime()}},function(e,t,n){var r=n(2),o=n(26),a=n(23),i=n(36);e.exports=function(e,t){var n=r(e),u=r(t),s=a(n,u),c=Math.abs(o(n,u));return n=i(n,s*c),s*(c-(a(n,u)===-s))}},function(e,t,n){var r=n(5);e.exports=function(e,t){return r(e,-t)}},function(e,t,n){var r=n(34),o=6e4;e.exports=function(e,t){var n=r(e,t)/o;return n>0?Math.floor(n):Math.ceil(n)}},function(e,t,n){var r=n(2),o=n(27),a=n(23);e.exports=function(e,t){var n=r(e),i=r(t),u=a(n,i),s=Math.abs(o(n,i));return n.setMonth(n.getMonth()-u*s),u*(s-(a(n,i)===-u))}},function(e,t,n){var r=n(38);e.exports=function(e,t){var n=r(e,t)/3;return n>0?Math.floor(n):Math.ceil(n)}},function(e,t,n){var r=n(34);e.exports=function(e,t){var n=r(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},function(e,t,n){var r=n(32);e.exports=function(e,t){var n=r(e,t)/7;return n>0?Math.floor(n):Math.ceil(n)}},function(e,t,n){var r=n(2),o=n(31),a=n(23);e.exports=function(e,t){var n=r(e),i=r(t),u=a(n,i),s=Math.abs(o(n,i));return n.setFullYear(n.getFullYear()-u*s),u*(s-(a(n,i)===-u))}},function(e,t,n){var r=n(24),o=n(2),a=n(40),i=n(38),u=n(44),s=1440,c=2520,f=43200,l=86400;e.exports=function(e,t,n){n=n||{};var v,d,p=r(e,t),h=(n.locale||u).distanceInWords.localize,g={addSuffix:n.addSuffix,comparison:p};p>0?(v=o(e),d=o(t)):(v=o(t),d=o(e));var x,m=a(d,v),D=d.getTimezoneOffset()-v.getTimezoneOffset(),w=Math.round(m/60)-D;if(w<2)return n.includeSeconds?m<5?h("lessThanXSeconds",5,g):m<10?h("lessThanXSeconds",10,g):m<20?h("lessThanXSeconds",20,g):m<40?h("halfAMinute",null,g):h(m<60?"lessThanXMinutes":"xMinutes",1,g):0===w?h("lessThanXMinutes",1,g):h("xMinutes",w,g);if(w<45)return h("xMinutes",w,g);if(w<90)return h("aboutXHours",1,g);if(w<s)return h("aboutXHours",Math.round(w/60),g);if(w<c)return h("xDays",1,g);if(w<f)return h("xDays",Math.round(w/s),g);if(w<l)return h("aboutXMonths",x=Math.round(w/f),g);if((x=i(d,v))<12)return h("xMonths",Math.round(w/f),g);var M=x%12,y=Math.floor(x/12);return M<3?h("aboutXYears",y,g):M<9?h("overXYears",y,g):h("almostXYears",y+1,g)}},function(e,t,n){var r=n(45),o=n(46);e.exports={distanceInWords:r(),format:o()}},function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var o;return r=r||{},o="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},function(e,t,n){var r=n(47);e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["AM","PM"],u=["am","pm"],s=["a.m.","p.m."],c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?i[1]:i[0]},a:function(e){return e.getHours()/12>=1?u[1]:u[0]},aa:function(e){return e.getHours()/12>=1?s[1]:s[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){c[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}}),{formatters:c,formattingTokensRegExp:r(c)}}},function(e,t){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=n.concat(Object.keys(e)).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+t.join("|")+"|.)","g")}},function(e,t,n){var r=n(43);e.exports=function(e,t){return r(Date.now(),e,t)}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e),o=r(t).getTime();if(n.getTime()>o)throw new Error("The first date cannot be after the second date");var a=[],i=n;for(i.setHours(0,0,0,0);i.getTime()<=o;)a.push(new Date(i)),i.setDate(i.getDate()+1);return a}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return t.setHours(23,59,59,999),t}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return t.setMinutes(59,59,999),t}},function(e,t,n){var r=n(53);e.exports=function(e){return r(e,{weekStartsOn:1})}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=t&&t.weekStartsOn||0,o=r(e),a=o.getDay(),i=6+(a<n?-7:0)-(a-n);return o.setDate(o.getDate()+i),o.setHours(23,59,59,999),o}},function(e,t,n){var r=n(6),o=n(7);e.exports=function(e){var t=r(e),n=o(new Date(t+1,0,4));return n.setMilliseconds(n.getMilliseconds()-1),n}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return t.setSeconds(59,999),t}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e),n=t.getMonth(),o=n-n%3+3;return t.setMonth(o,0),t.setHours(23,59,59,999),t}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return t.setMilliseconds(999),t}},function(e,t,n){var r=n(50);e.exports=function(){return r(new Date)}},function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate();return new Date(t,n,r+1,23,59,59,999)}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}},function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate();return new Date(t,n,r-1,23,59,59,999)}},function(e,t,n){var r=n(64),o=n(66),a=n(6),i=n(2),u=n(44);var s={M:function(e){return e.getMonth()+1},MM:function(e){return f(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return f(e.getDate(),2)},DDD:function(e){return r(e)},DDDD:function(e){return f(r(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return o(e)},WW:function(e){return f(o(e),2)},YY:function(e){return f(e.getFullYear(),4).substr(2)},YYYY:function(e){return f(e.getFullYear(),4)},GG:function(e){return String(a(e)).substr(2)},GGGG:function(e){return a(e)},H:function(e){return e.getHours()},HH:function(e){return f(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return f(s.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return f(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return f(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return Math.floor(e.getMilliseconds()/10)},SSS:function(e){return e.getMilliseconds()},Z:function(e){return c(e.getTimezoneOffset(),":")},ZZ:function(e){return c(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function c(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=r%60;return n+f(Math.floor(r/60),2)+t+f(o,2)}function f(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){t=t||"YYYY-MM-DDTHH:mm:ss.SSSZ";var r=((n=n||{}).locale||u).format,o=i(e);return function(e,t){var n,r,o,a=e.match(t.formattingTokensRegExp),i=a.length;for(n=0;n<i;n++)r=t.formatters[a[n]]||s[a[n]],a[n]=r||((o=a[n]).match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,""));return function(e){for(var t="",n=0;n<i;n++)a[n]instanceof Function?t+=a[n](e,s):t+=a[n];return t}}(t,r)(o)}},function(e,t,n){var r=n(2),o=n(65),a=n(11);e.exports=function(e){var t=r(e);return a(t,o(t))+1}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return new Date(t.getFullYear(),0,1,0,0,0,0)}},function(e,t,n){var r=n(2),o=n(7),a=n(10),i=6048e5;e.exports=function(e){var t=r(e),n=o(t).getTime()-a(t).getTime();return Math.round(n/i)+1}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getDate()}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getDay()}},function(e,t,n){var r=n(70);e.exports=function(e){return r(e)?366:365}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e).getFullYear();return t%400==0||t%4==0&&t%100!=0}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getHours()}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e).getDay();return 0===t&&(t=7),t}},function(e,t,n){var r=n(10),o=n(19),a=6048e5;e.exports=function(e){var t=r(e),n=r(o(t,60)).valueOf()-t.valueOf();return Math.round(n/a)}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getMilliseconds()}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getMinutes()}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getMonth()}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getSeconds()}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getFullYear()}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()>o.getTime()}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()<o.getTime()}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()===o.getTime()}},function(e,t,n){var r=n(2);e.exports=function(e){return 1===r(e).getDate()}},function(e,t,n){var r=n(2);e.exports=function(e){return 5===r(e).getDay()}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getTime()>(new Date).getTime()}},function(e,t,n){var r=n(2),o=n(50),a=n(56);e.exports=function(e){var t=r(e);return o(t).getTime()===a(t).getTime()}},function(e,t,n){var r=n(2);e.exports=function(e){return 1===r(e).getDay()}},function(e,t,n){var r=n(2);e.exports=function(e){return r(e).getTime()<(new Date).getTime()}},function(e,t,n){var r=n(12);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()===o.getTime()}},function(e,t,n){var r=n(90);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()===o.getTime()}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return t.setMinutes(0,0,0),t}},function(e,t,n){var r=n(92);e.exports=function(e,t){return r(e,t,{weekStartsOn:1})}},function(e,t,n){var r=n(8);e.exports=function(e,t,n){var o=r(e,n),a=r(t,n);return o.getTime()===a.getTime()}},function(e,t,n){var r=n(10);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()===o.getTime()}},function(e,t,n){var r=n(95);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()===o.getTime()}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return t.setSeconds(0,0),t}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e),o=r(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},function(e,t,n){var r=n(98);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()===o.getTime()}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e),n=t.getMonth(),o=n-n%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}},function(e,t,n){var r=n(100);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()===o.getTime()}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return t.setMilliseconds(0),t}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e),o=r(t);return n.getFullYear()===o.getFullYear()}},function(e,t,n){var r=n(2);e.exports=function(e){return 6===r(e).getDay()}},function(e,t,n){var r=n(2);e.exports=function(e){return 0===r(e).getDay()}},function(e,t,n){var r=n(89);e.exports=function(e){return r(new Date,e)}},function(e,t,n){var r=n(91);e.exports=function(e){return r(new Date,e)}},function(e,t,n){var r=n(93);e.exports=function(e){return r(new Date,e)}},function(e,t,n){var r=n(94);e.exports=function(e){return r(new Date,e)}},function(e,t,n){var r=n(96);e.exports=function(e){return r(new Date,e)}},function(e,t,n){var r=n(97);e.exports=function(e){return r(new Date,e)}},function(e,t,n){var r=n(99);e.exports=function(e){return r(new Date,e)}},function(e,t,n){var r=n(92);e.exports=function(e,t){return r(new Date,e,t)}},function(e,t,n){var r=n(101);e.exports=function(e){return r(new Date,e)}},function(e,t,n){var r=n(2);e.exports=function(e){return 4===r(e).getDay()}},function(e,t,n){var r=n(12);e.exports=function(e){return r(e).getTime()===r(new Date).getTime()}},function(e,t,n){var r=n(12);e.exports=function(e){var t=new Date;return t.setDate(t.getDate()+1),r(e).getTime()===r(t).getTime()}},function(e,t,n){var r=n(2);e.exports=function(e){return 2===r(e).getDay()}},function(e,t,n){var r=n(3);e.exports=function(e){if(r(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},function(e,t,n){var r=n(2);e.exports=function(e){return 3===r(e).getDay()}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e).getDay();return 0===t||6===t}},function(e,t,n){var r=n(2);e.exports=function(e,t,n){var o=r(e).getTime(),a=r(t).getTime(),i=r(n).getTime();if(a>i)throw new Error("The start of the range cannot be after the end of the range");return o>=a&&o<=i}},function(e,t,n){var r=n(12);e.exports=function(e){var t=new Date;return t.setDate(t.getDate()-1),r(e).getTime()===r(t).getTime()}},function(e,t,n){var r=n(123);e.exports=function(e){return r(e,{weekStartsOn:1})}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=t&&t.weekStartsOn||0,o=r(e),a=o.getDay(),i=6+(a<n?-7:0)-(a-n);return o.setHours(0,0,0,0),o.setDate(o.getDate()+i),o}},function(e,t,n){var r=n(6),o=n(7);e.exports=function(e){var t=r(e),n=o(new Date(t+1,0,4));return n.setDate(n.getDate()-1),n}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e),n=t.getMonth(),o=n-n%3+3;return t.setMonth(o,0),t.setHours(0,0,0,0),t}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}},function(e,t,n){var r=n(2);e.exports=function(){var e=Array.prototype.slice.call(arguments).map(function(e){return r(e)}),t=Math.max.apply(null,e);return new Date(t)}},function(e,t,n){var r=n(2);e.exports=function(){var e=Array.prototype.slice.call(arguments).map(function(e){return r(e)}),t=Math.min.apply(null,e);return new Date(t)}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setDate(t),n}},function(e,t,n){var r=n(2),o=n(1);e.exports=function(e,t,n){var a=n&&n.weekStartsOn||0,i=r(e),u=i.getDay();return o(i,((t%7+7)%7<a?7:0)+t-u)}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setMonth(0),n.setDate(t),n}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setHours(t),n}},function(e,t,n){var r=n(2),o=n(1),a=n(72);e.exports=function(e,t){var n=r(e),i=a(n);return o(n,t-i)}},function(e,t,n){var r=n(2),o=n(66);e.exports=function(e,t){var n=r(e),a=o(n)-t;return n.setDate(n.getDate()-7*a),n}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setMilliseconds(t),n}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setMinutes(t),n}},function(e,t,n){var r=n(2),o=n(16);e.exports=function(e,t){var n=r(e),a=n.getFullYear(),i=n.getDate(),u=o(new Date(a,t));return n.setMonth(t,Math.min(i,u)),n}},function(e,t,n){var r=n(2),o=n(138);e.exports=function(e,t){var n=r(e),a=t-(Math.floor(n.getMonth()/3)+1);return o(n,n.getMonth()+3*a)}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setSeconds(t),n}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r(e);return n.setFullYear(t),n}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r(e);return t.setDate(1),t.setHours(0,0,0,0),t}},function(e,t,n){var r=n(12);e.exports=function(){return r(new Date)}},function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate();return new Date(t,n,r+1)}},function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate();return new Date(t,n,r-1)}},function(e,t,n){var r=n(1);e.exports=function(e,t){return r(e,-t)}},function(e,t,n){var r=n(4);e.exports=function(e,t){return r(e,-t)}},function(e,t,n){var r=n(13);e.exports=function(e,t){return r(e,-t)}},function(e,t,n){var r=n(14);e.exports=function(e,t){return r(e,-t)}},function(e,t,n){var r=n(15);e.exports=function(e,t){return r(e,-t)}},function(e,t,n){var r=n(17);e.exports=function(e,t){return r(e,-t)}},function(e,t,n){var r=n(18);e.exports=function(e,t){return r(e,-t)}},function(e,t,n){var r=n(19);e.exports=function(e,t){return r(e,-t)}},function(e,t,n){var r=n(20);e.exports=function(e,t){return r(e,-t)}}])}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EventEmitter3=e()}(function(){return function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!u&&s)return s(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[i]={exports:{}};t[i][0].call(f.exports,function(e){return o(t[i][1][e]||e)},f,f.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function a(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function u(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var u=new i(n,r||e,a),s=o?o+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],u]:e._events[s].push(u):(e._events[s]=u,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(o=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,i=new Array(a);r<a;r++)i[r]=n[r].fn;return i},c.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,a,i){var u=o?o+e:e;if(!this._events[u])return!1;var s,c,f=this._events[u],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,a),!0;case 6:return f.fn.call(f.context,t,n,r,a,i),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];f.fn.apply(f.context,s)}else{var v,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;case 4:f[c].fn.call(f[c].context,t,n,r);break;default:if(!s)for(v=1,s=new Array(l-1);v<l;v++)s[v-1]=arguments[v];f[c].fn.apply(f[c].context,s)}}return!0},c.prototype.on=function(e,t,n){return u(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return u(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var a=o?o+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var i=this._events[a];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||s(this,a);else{for(var u=0,c=[],f=i.length;u<f;u++)(i[u].fn!==t||r&&!i[u].once||n&&i[u].context!==n)&&c.push(i[u]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&s(this,t)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,void 0!==t&&(t.exports=c)},{}]},{},[1])(1)}),window.DEBUG=!1,WebSocketClient.prototype.open=function(e){this.url=e,this.instance=new WebSocket(this.url);var t=this;this.instance.onopen=function(){window.DEBUG&&console.log("[WebSocketClient on open]"),t.onopen()},this.instance.onclose=function(e){switch(window.DEBUG&&console.log("[WebSocketClient on close]"),e.code){case 1e3:window.DEBUG&&console.log("WebSocketClient: closed");break;default:t.reconnect(e)}t.onclose&&t.onclose(e)},this.instance.onerror=function(e){switch(window.DEBUG&&console.log("[WebSocketClient on error]"),e.code){case"ECONNREFUSED":t.reconnect(e);break;default:t.onerror&&t.onerror(e)}},this.instance.onmessage=function(e){window.DEBUG&&console.log("[WebSocketClient on message]"),t.onmessage(e.data)},window.DEBUG&&console.log("[WebSocketClient open] completed")},WebSocketClient.prototype.removeAllListeners=function(){this.instance.onopen=null,this.instance.onclose=null,this.instance.onerror=null,this.instance.onmessage=null},WebSocketClient.prototype.reconnect=function(e){window.DEBUG&&console.log("WebSocketClient: retry in",this.reconnect_interval,"ms",e),this.removeAllListeners();var t=this;setTimeout(function(){window.DEBUG&&console.log("WebSocketClient: reconnecting..."),t.open(t.url)},this.reconnect_interval)},window.Socket=new EventEmitter3,$(function(){startWebsocket(),$("#toggle-history").on("click",function(){var e=$("#history"),t=$("#toggle-history");e.is(":visible")?(t.text("show monitor"),e.hide()):(t.text("hide monitor"),e.show())})}),window.sketches||(window.sketches={}),window.sketches.data=createProcessingSketch("*",function(e,t){var n=[];t.setup=function(){t.createCanvas(e.width,e.height),t.noStroke()},t.draw=function(){t.background(0),n.forEach(function(e,n){var r=t.height/24,o=r*n+r/2;t.fill(0),t.rect(0,o,t.width,50),t.fill(255),t.text(e.key+": "+e.value,10,o)})},t.onData=function(e){n.push(e),n.length>24&&n.shift()},t.drawValue=function(e,n,r){e=Math.floor(currentSpot/24),n=currentSpot-24*e;var o=t.width/xsteps,a=t.height/24;t.fill(0,200,0),t.ellipse(e*o,n*a,30,30),currentSpot=(currentSpot+1)%(24*xsteps)}}),window.sketches.mood=createProcessingSketch("mood",function(e,t){var n=[],r=[t.color(0,192,0),t.color(250,128,0),t.color(234,21,0),t.color(216,0,39),t.color(255,0,0),t.color(108,0,147),t.color(0,64,255),t.color(0,0,150)];t.color(100,100,100);t.setup=function(){t.createCanvas(e.width,e.height),t.frameRate(1),fetch("https://io.adafruit.com/api/v2/mica_ia/feeds/mood/data?limit=100").then(function(e){return e.json()}).then(function(e){Array.isArray(e)&&e.length>0&&(e.forEach(function(e){t.onData(e,!1)}),t.drawBars())})},t.draw=function(){t.drawBars(0)},t.onData=function(e,r=!0){if(!e.mode||"reconnect"!==e.mode){for(e.value.split(" ").forEach(function(e){n.push(parseInt(e))});n.length>120;)n.shift();r&&t.drawBars()}},t.drawBars=function(){o()};const o=function(){var e=t.width/n.length;t.noStroke(),n.forEach(function(n,o){t.fill(r[n]),t.rect(o*e,0,e+1,t.height)})}}),window.sketches.motion=createProcessingSketch("motion",function(e,t){let n=t.color(0,40,255),r=t.color(218,28,0);var o=null;t.setup=function(){t.createCanvas(e.width,e.height),t.noStroke(),t.frameRate(10)},t.draw=function(){if(t.fill(0,15),t.rect(0,0,t.width,t.height),o){var e=formattedDate(o);t.fill(0),t.rect(8,2,t.textWidth(e)+4,20),t.fill(255),t.text(e,10,20)}},t.onData=function(e){o=e.created_at,e.value.split(" ").map(function(e){return parseInt(e)}).forEach(function(e,n){var r=Math.floor(n/6),o=n-6*r;t.drawValue(r,o,e)})},t.drawValue=function(e,o,a){var i=t.width/8,u=t.height/6,s=t.lerpColor(n,r,a/127);a>3&&(t.fill(s),t.rect(e*i,o*u,i,u))}});var DX=-1.8;window.sketches.sound=createProcessingSketch(["sound","sound-2"],function(e,t){var n=function(e,t){this.x=e,this.value=t};n.prototype.update=function(){this.x+=DX,this.x<-10&&(this.delete=!0)};var r={sound:{values:[],lastUpdate:0},"sound-2":{values:[],lastUpdate:0}},o=[[],[]],a=null;t.setup=function(){t.createCanvas(e.width,e.height),t.noStroke()},t.draw=function(){if(t.background(0),t.updateBar(r.sound,0),t.updateBar(r["sound-2"],1),t.drawBar(0,0,t.height/2),t.drawBar(1,t.height/2+1,t.height),a){var e=formattedDate(a);t.fill(255),t.text(e,10,20)}},t.onData=function(e){console.log("onData",e),a=e.created_at,e.value.split(" ").map(function(e){return parseInt(e)}).forEach(function(t){isNaN(t)||r[e.key].values.push(t)})};t.updateBar=function(e,r){var a=o[r],i=(t.width,t.millis());if(i-e.lastUpdate>110&&e.values.length>0){var u=e.values.shift();void 0===u||isNaN(u)||a.push(new n(t.width,u)),e.lastUpdate=i}else{a.forEach(function(e){e.update()});for(var s=Math.min(a.length-1,10);s>=0;s--)a[s].delete&&a.splice(s,1)}},t.drawBar=function(e,n,r){var a=o[e],i=t.width/48,u=r-n;a.forEach(function(e){var n=Math.min(Math.max(0,e.value),1e4),o=t.map(n,0,1e4,0,u),a=t.lerpColor(t.color([0,0,150]),t.color([255,28,10]),o/u);t.fill(a),t.rect(e.x,r-o,i+1,o)})}});